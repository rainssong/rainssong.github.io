<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>下雨的声音</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="下雨的声音">
<meta property="og:type" content="website">
<meta property="og:title" content="下雨的声音">
<meta property="og:url" content="http://rainssong.github.io/index.html">
<meta property="og:site_name" content="下雨的声音">
<meta property="og:description" content="下雨的声音">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="下雨的声音">
<meta name="twitter:description" content="下雨的声音">
  
    <link rel="alternative" href="/atom.xml" title="下雨的声音" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="http://ww2.sinaimg.cn/large/59fc3998gw1ehh0fx36k6j20hs0hs0td.jpg">
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">rainssong</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="http://www.github.com/rainssong" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/rainssong" title="weibo">weibo</a>
					        
								<a class="zhihu" target="_blank" href="http://zhihu.com/people/rainssong" title="zhihu">zhihu</a>
					        
								<a class="mail" target="_blank" href="mailto:rainssong@126.com" title="mail">mail</a>
					        
								<a class="facebook" target="_blank" href="http://facebook.com/rainssong" title="facebook">facebook</a>
					        
								<a class="twitter" target="_blank" href="http://twitter.com/raissong" title="twitter">twitter</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/AI/" style="font-size: 12.5px;">AI</a><a href="/tags/AIR/" style="font-size: 10px;">AIR</a><a href="/tags/ANE/" style="font-size: 10px;">ANE</a><a href="/tags/AS3/" style="font-size: 20px;">AS3</a><a href="/tags/AVG/" style="font-size: 10px;">AVG</a><a href="/tags/Adobe/" style="font-size: 10px;">Adobe</a><a href="/tags/Air/" style="font-size: 12.5px;">Air</a><a href="/tags/Android/" style="font-size: 10px;">Android</a><a href="/tags/Array/" style="font-size: 15px;">Array</a><a href="/tags/Date/" style="font-size: 10px;">Date</a><a href="/tags/Egret/" style="font-size: 10px;">Egret</a><a href="/tags/FlashDevelop/" style="font-size: 10px;">FlashDevelop</a><a href="/tags/Game/" style="font-size: 10px;">Game</a><a href="/tags/GameDevelop/" style="font-size: 17.5px;">GameDevelop</a><a href="/tags/Haxe/" style="font-size: 10px;">Haxe</a><a href="/tags/Html5/" style="font-size: 10px;">Html5</a><a href="/tags/Math/" style="font-size: 10px;">Math</a><a href="/tags/RainAvgEngine/" style="font-size: 10px;">RainAvgEngine</a><a href="/tags/RainUI/" style="font-size: 10px;">RainUI</a><a href="/tags/Robot/" style="font-size: 10px;">Robot</a><a href="/tags/iOS/" style="font-size: 12.5px;">iOS</a><a href="/tags/优化/" style="font-size: 10px;">优化</a><a href="/tags/算法/" style="font-size: 12.5px;">算法</a><a href="/tags/递归/" style="font-size: 10px;">递归</a><a href="/tags/随机/" style="font-size: 10px;">随机</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">精通独立游戏，血型，动漫，指弹吉他，篮球，涂鸦，人体音箱，魔术，塔罗牌，那该多好啊。</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">rainssong</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="http://ww2.sinaimg.cn/large/59fc3998gw1ehh0fx36k6j20hs0hs0td.jpg">
				<hgroup>
				  <h1 class="header-author">rainssong</h1>
				</hgroup>
			</div>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="http://www.github.com/rainssong" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/rainssong" title="weibo">weibo</a>
			        
						<a class="zhihu" target="_blank" href="http://zhihu.com/people/rainssong" title="zhihu">zhihu</a>
			        
						<a class="mail" target="_blank" href="mailto:rainssong@126.com" title="mail">mail</a>
			        
						<a class="facebook" target="_blank" href="http://facebook.com/rainssong" title="facebook">facebook</a>
			        
						<a class="twitter" target="_blank" href="http://twitter.com/raissong" title="twitter">twitter</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-简易赛车的AI写法" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/30/简易赛车的AI写法/" class="article-date">
  	<time datetime="2015-06-29T18:08:00.000Z" itemprop="datePublished">2015-06-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/30/简易赛车的AI写法/">简易赛车的AI写法</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>wonderfl上有一个神奇的3D赛车游戏，只有短短的500行代码就实现了随机生成赛道数木障碍物，AI对手，视野控制等等功能。今天看了一下它的AI部分的源码，感觉相当秒。这里分享一下。游戏地址：<a href="http://wonderfl.net/c/njap" target="_blank" rel="external">http://wonderfl.net/c/njap</a></p>
<pre><code><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getAutoKey</span><span class="params">(w:World)</span><span class="type">:uint</span>
</span>{
    <span class="comment">//上 下 左 右 手刹，默认前进</span>
    <span class="keyword">var</span> key:uint = <span class="number">0xF0000</span>;
    <span class="comment">//p：车座标，cp：目标点坐标，ofp：需要的位移量</span>
    <span class="keyword">var</span> p:Point = <span class="keyword">new</span> Point(qobject.x, qobject.y), cp:Point = w.course[_targetIndex], ofp:Point = cp.subtract(p);
    <span class="comment">//目标距离</span>
    <span class="keyword">var</span> d:Number = Point.distance(p, cp);
    <span class="comment">//如果方向正确且快到目标点则更新目标点</span>
    <span class="keyword">if</span> (d &lt; <span class="number">10</span> + speed / <span class="number">10</span> * proactiveRate || (cp.x * p.y) - (cp.y * p.x) &gt; <span class="number">0</span>)
        _targetIndex = ++_targetIndex % w.course.length;
    <span class="comment">//夹角公式，如果夹角大于0.12则转弯</span>
    <span class="keyword">if</span> (Math.acos((ofp.x * _front.x + ofp.y * _front.y) / (ofp.length * _front.length)) &gt; <span class="number">0.12</span>)
        key |= (ofp.x * _front.y - ofp.y * _front.x &gt; <span class="number">0</span>) ? <span class="number">0x00F00</span> : <span class="number">0x000F0</span>;
    <span class="comment">//前进受阻严重则倒车</span>
    <span class="keyword">if</span> (!_backMode &amp;&amp; speed &lt; <span class="number">2</span> &amp;&amp; ++_stress &gt; <span class="number">80</span>)
        _backMode = <span class="literal">true</span>;
    <span class="comment">//受阻减少则恢复</span>
    <span class="keyword">else</span> <span class="keyword">if</span> (_backMode &amp;&amp; --_stress &lt;= <span class="number">0</span>)
        _backMode = <span class="literal">false</span>;
    <span class="comment">//倒车时前后左右相反</span>
    <span class="keyword">if</span> (_backMode)
        key ^= <span class="number">0xFFFF0</span>;
    <span class="comment">//弯度、速度、距离满足条件时飘移</span>
    <span class="keyword">if</span> (speed &gt; <span class="number">7</span> &amp;&amp; w.tightness[_targetIndex] &gt; <span class="number">1</span> &amp;&amp; d &lt; <span class="number">20</span>)
        key |= <span class="number">0x0000F</span>;
    <span class="keyword">return</span> key;
}
</code></pre><p>有时候只用if实现AI已经足够</p>

        
          <!-- show an end symbol if the article is fully displayed -->
          <hr/>
          <p class="article-more-link">
            <a>end</a>
          </p>
        
      
    </div>
    
    <div class="article-info">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AI/">AI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AS3/">AS3</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GameDevelop/">GameDevelop</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/GameDevelop/">GameDevelop</a>
	</div>


      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-用AS3修改末日商旅2存档" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/15/用AS3修改末日商旅2存档/" class="article-date">
  	<time datetime="2015-06-14T18:08:00.000Z" itemprop="datePublished">2015-06-15</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/15/用AS3修改末日商旅2存档/">用AS3修改末日商旅2存档</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>末日商旅2仅仅一个30m的小游戏，自由度和系统却非常棒。昨天准备调一下金钱快速通关，但是很奇怪CheatEngine用各种办法都搜索不到内存地址，不知道是不是64位Player造成的。于是决定从SharedObject下手。<br>1.在C:\Users\Rain\AppData\Roaming\Macromedia\Flash Player#SharedObjects找到相应的存档文件，用Flash SharedObject File Reader打开，发现核心数据是ByteArray。<br>2.没办法，反编译游戏文件，发现存档关键处理是：</p>
<pre><code>_loc_10 = <span class="keyword">new</span> ByteArray();
_loc_10.writeObject(_loc_1);
_loc_10.compress(<span class="string">"zlib"</span>);
<span class="keyword">return</span> _loc_10;
</code></pre><p>3.那么处理方法也很简单了：</p>
<pre><code><span class="keyword">var</span> <span class="keyword">so</span>:SharedObject = SharedObject.getLocal(<span class="string">"savedData"</span>);
<span class="keyword">var</span> saveBA:ByteArray = <span class="keyword">so</span>.data.saves[1].<span class="keyword">save</span>;
saveBA.uncompress();
<span class="keyword">var</span> <span class="keyword">save</span>:Object = saveBA.readObject();
<span class="keyword">save</span>.Caravans[0].money = 99999999;
saveBA.writeObject(<span class="keyword">save</span>)
saveBA.<span class="keyword">compress</span>();
<span class="keyword">so</span>.flush();
</code></pre><p>2015-06-28更新<br>准备把之前写的末日商旅2存档修改器加工一下。思路是这样：将sol文件复制到自身SharedObject文件夹，然后用SharedObject.getlocal打开存档，修改存档数据，然后再将文件copy回去。<br>实际操作中发现，SharedObject文件是不可以改名的。改名之后data将无法阅读。神奇= =<br>另外，在Air应用开启过程中，不再读取SO文件，所以在玩游戏的时候，修改存档文件是没有意义的。</p>
<p>编辑器地址：<a href="http://pan.baidu.com/s/1i3lHllF" target="_blank" rel="external">http://pan.baidu.com/s/1i3lHllF</a></p>

        
          <!-- show an end symbol if the article is fully displayed -->
          <hr/>
          <p class="article-more-link">
            <a>end</a>
          </p>
        
      
    </div>
    
    <div class="article-info">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AS3/">AS3</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GameDevelop/">GameDevelop</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/GameDevelop/">GameDevelop</a>
	</div>


      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-Haxe初尝" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/05/11/Haxe初尝/" class="article-date">
  	<time datetime="2015-05-10T18:08:00.000Z" itemprop="datePublished">2015-05-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/11/Haxe初尝/">Haxe初尝</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Haxe其实是一个中间语言，利用各种库将源码翻译后编译。好处相当于请了一个牛逼翻译官，去哪国都可以带上，缺点是翻译效果永远不如自己掌握的语言来的好。<br>更大的问题来了，翻译官是宇宙人，其实听不懂地球话，你必须先学会宇宙语才能跟翻译官沟通，然后翻译官再帮你翻译成各国语言。<br>翻译官翻译的能力来自于一堆资料书，所以你还得先找到资料书给他，告诉他基本翻译规则，他才会翻译。<br>还有一个问题（跨平台的通病），对于资料书来说，俚语是没法翻译的，想说俚语，得靠自己。。。<br>额，没时间的还是不要学了。。。</p>
<p>一些术语：<br>Lime库-跨平台抽象层<br>Openfl库 -仿flash高级图形api<br>Neko haxe虚拟机<br>NME Openfl前身</p>
<p>*只有openfl+lime开发的应用才是真正跨平台的，haxe只是代码跨平台而已</p>

        
          <!-- show an end symbol if the article is fully displayed -->
          <hr/>
          <p class="article-more-link">
            <a>end</a>
          </p>
        
      
    </div>
    
    <div class="article-info">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AS3/">AS3</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GameDevelop/">GameDevelop</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Haxe/">Haxe</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/GameDevelop/">GameDevelop</a>
	</div>


      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-用Html5写重力游戏" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/05/11/用Html5写重力游戏/" class="article-date">
  	<time datetime="2015-05-10T18:08:00.000Z" itemprop="datePublished">2015-05-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/11/用Html5写重力游戏/">用Html5写重力游戏</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>之前用Egret把我的游戏移植为Html5小游戏。游戏地址：<a href="http://finalflight.sinaapp.com/" target="_blank" rel="external">http://finalflight.sinaapp.com/</a><br>网上对于Html5重力游戏的资料有点零散，说的也不是很清楚，这里总结一下。<br>首先说一下三个相关事件：<br>DeviceMotionEvent——设备的加速度信息<br>DeviceOrientationEvent——设备的角度信息<br>MozOrientationEvent——火狐浏览器的角度信息</p>
<p>其实通常情况下用DeviceOrientationEvent即可完成设备倾斜度的判断，怎奈Html5标准不统一的问题，还要想办法做一下兼容。</p>
<pre><code>public onOrientation(<span class="keyword">e</span>):void
{
    <span class="comment">//未测试安卓，估计也要取反，见onMotion函数</span>
    <span class="comment">//将Moz参数转换为一般参数</span>
    <span class="keyword">if</span> (!<span class="keyword">e</span>.<span class="keyword">gamma</span> &amp;&amp; !<span class="keyword">e</span>.beta) 
    {
        <span class="keyword">e</span>.beta = (<span class="keyword">e</span>.x * (180 / Math.PI)); <span class="comment">//转换成角度值</span>
        <span class="keyword">e</span>.<span class="keyword">gamma</span> = (<span class="keyword">e</span>.y * (180 / Math.PI)); <span class="comment">//转换成角度值,</span>
        <span class="keyword">e</span>.<span class="keyword">alpha</span> = (<span class="keyword">e</span>.z * (180 / Math.PI)); <span class="comment">//转换成角度值</span>
    }
     <span class="comment">//沿X旋转的角度</span>
    this.<span class="keyword">gamma</span> = <span class="keyword">e</span>.<span class="keyword">gamma</span>;
     <span class="comment">//沿Y旋转的角度</span>
    this.beta = <span class="keyword">e</span>.beta;
    <span class="comment">//沿Z旋转的角度</span>
    this.<span class="keyword">alpha</span> = <span class="keyword">e</span>.<span class="keyword">alpha</span>;
}
</code></pre><p>如果你的游戏用到了重力加速度，就这么写</p>
<pre><code><span class="function"><span class="keyword">public</span> <span class="title">onMotion</span><span class="params">(e)</span>:<span class="keyword">void</span>
</span>{
     <span class="comment">//如果是安卓则取反</span>
    <span class="keyword">var</span> reverseRate:number=&lt;number&gt;(SystemManager.isAndroid?-<span class="number">1</span>:<span class="number">1</span>);
    <span class="keyword">this</span>.x = e.accelerationIncludingGravity.x*reverseRate
    <span class="keyword">this</span>.y = -e.accelerationIncludingGravity.y*reverseRate
    <span class="keyword">this</span>.z = e.accelerationIncludingGravity.z*reverseRate
}
</code></pre><p>如果只用到加速度，这么写：</p>
<pre><code><span class="function"><span class="keyword">public</span> <span class="title">onMotion</span><span class="params">(e)</span>:<span class="keyword">void</span>
</span>{
    <span class="keyword">var</span> reverseRate:number=&lt;number&gt;(SystemManager.isAndroid?-<span class="number">1</span>:<span class="number">1</span>);
    <span class="keyword">this</span>.x = e.acceleration.x*reverseRate
    <span class="keyword">this</span>.y = -e.acceleration.y*reverseRate
    <span class="keyword">this</span>.z = e.acceleration.z*reverseRate
}
</code></pre><p>用重力加速度更能捕捉玩家的动作，倾斜度的话比较好理解控制也更佳僵硬和精确一些。</p>
<p>然后将检测到的参数封装成一个单例类，游戏即可随时调用结果。否则传感器初始化会造成卡顿影响体验。</p>
<p>另外，手机会自动关灯，所以你要设计一些功能使得玩家隔段时间（建议20秒以内）就去点击一下屏幕。</p>

        
          <!-- show an end symbol if the article is fully displayed -->
          <hr/>
          <p class="article-more-link">
            <a>end</a>
          </p>
        
      
    </div>
    
    <div class="article-info">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Egret/">Egret</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GameDevelop/">GameDevelop</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Html5/">Html5</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/GameDevelop/">GameDevelop</a>
	</div>


      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-RainUI开发经验" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/04/27/RainUI开发经验/" class="article-date">
  	<time datetime="2015-04-26T18:08:00.000Z" itemprop="datePublished">2015-04-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/27/RainUI开发经验/">RainUI开发经验</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>市面上没有一个令我满意的生产用UI库，于是决定自己开发一个。在参考了MornUI、FeathersUI、MinimalComps之后，给自己的UI库定下了目标：<br>1.解耦，类可以脱离框架单独使用<br>2.可以兼容Flash进行可视化编辑<br>3.自适应<br>4.可换肤<br>5.轻量</p>
<p>下面说一下我是怎么解决的：<br>1.解耦很简单，将每个组件高度独立，唯一依赖是RainUI的一些全局静态接口。<br>2.在生成组件内容时，自动检测某些显示对象是否存在，如果存在则使用现成对象，否则新建。<br>3.组件提供了像素和百分比两种数值（以后可能会加上物理尺寸），以及left top bottom right的相对位置模式。<br>4.由RainUI根据theme给组件提供皮肤。组件不知道theme的存在</p>
<p>在实际操作中遇到不少问题<br>1.Flash组件和参数会强行修改参数默认值。<br>2.Flash并不能实时显示自适应效果。<br>3.用代码处理元件参数，效率非常低。<br>4.用xml处理元件参数，需要配合可视化编辑器。<br>5.可视化编辑器开发麻烦，且并不如Flash来得方便。</p>
<p>这就形成了一个死循环，唯一解开的方案是，开发一个足够好用且优秀的可视化编辑器。。。额，等我再考虑一下吧。</p>

        
          <!-- show an end symbol if the article is fully displayed -->
          <hr/>
          <p class="article-more-link">
            <a>end</a>
          </p>
        
      
    </div>
    
    <div class="article-info">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AS3/">AS3</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GameDevelop/">GameDevelop</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RainUI/">RainUI</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/AS3/">AS3</a>
	</div>


      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-a,b,c为正整数且abc, a^2+b^2=c^2, a+b+c=1000。求a，b，c的值" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/04/21/a,b,c为正整数且abc, a^2+b^2=c^2, a+b+c=1000。求a，b，c的值/" class="article-date">
  	<time datetime="2015-04-20T18:08:00.000Z" itemprop="datePublished">2015-04-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/21/a,b,c为正整数且abc, a^2+b^2=c^2, a+b+c=1000。求a，b，c的值/">a,b,c为正整数且a&lt;b&lt;c, a^2+b^2=c^2, a+b+c=1000。求a，b，c的值</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>由题目可分析得：C&lt;500，因此第一层从500开始递归，这样有个好处，【500到C的距离】肯定小于【0到A的距离】。<br>如果思路比较清楚的话会写成这样：</p>
<pre><code><span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">calc</span><span class="params">()</span><span class="type">:void</span>
</span>{
        <span class="keyword">for</span> (<span class="keyword">var</span> k:int = <span class="number">499</span>; k &gt; <span class="number">0</span>; k--)
                <span class="keyword">for</span> (<span class="keyword">var</span> j:int = k - <span class="number">1</span>; j &gt; (<span class="number">1000</span>-k-j); j--)
                {
                        <span class="keyword">var</span> i:int = <span class="number">1000</span> - i - j;
                        <span class="keyword">if</span> (i * i + j * j == k * k)
                        {
                                <span class="keyword">trace</span>(i, j, k);
                                <span class="keyword">return</span>;
                        }
                }
}
有童鞋直接把三元方程组降元后写出了更高效率的公式：
<span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">calc</span><span class="params">()</span><span class="type">:void</span>
</span>{ 
    <span class="keyword">for</span>(a = <span class="number">333</span>; a &gt; <span class="number">0</span>; a --)
     {
             b = (<span class="number">500000</span>- <span class="number">1000</span>* a) / (<span class="number">1000</span>- a);
             c = <span class="number">1000</span>- a - b;
             <span class="keyword">if</span>(a * a + b * b == c * c)
             {
                     <span class="keyword">trace</span>(a,b,c);
                     <span class="keyword">return</span>;
             }
     }
}
</code></pre><p>像这种算法题，核心思想就是：人可以受累，让计算机尽量少算。</p>

        
          <!-- show an end symbol if the article is fully displayed -->
          <hr/>
          <p class="article-more-link">
            <a>end</a>
          </p>
        
      
    </div>
    
    <div class="article-info">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AS3/">AS3</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GameDevelop/">GameDevelop</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Math/">Math</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/GameDevelop/">GameDevelop</a>
	</div>


      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-RainAsLib工具介绍" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/04/11/RainAsLib工具介绍/" class="article-date">
  	<time datetime="2015-04-10T17:20:03.000Z" itemprop="datePublished">2015-04-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/11/RainAsLib工具介绍/">RainAsLib工具介绍</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <pre><code>me<span class="class">.rainssong</span><span class="class">.utils</span><span class="class">.Color</span>
<span class="comment">//140种颜色常量，支持中英文，提供预览效果接口getColorListView()</span>

me<span class="class">.rainssong</span><span class="class">.utils</span><span class="class">.RevDictionary</span>
<span class="comment">//可以反向查值的字典类</span>

me<span class="class">.rainssong</span><span class="class">.display</span><span class="class">.CycleSprite</span>
<span class="comment">//可以循环滚动的Sprite</span>
</code></pre>
        
          <!-- show an end symbol if the article is fully displayed -->
          <hr/>
          <p class="article-more-link">
            <a>end</a>
          </p>
        
      
    </div>
    
    <div class="article-info">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AS3/">AS3</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/AS3/">AS3</a>
	</div>


      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-跨平台自适应AVG引擎——RainAvgEngine" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/04/07/跨平台自适应AVG引擎——RainAvgEngine/" class="article-date">
  	<time datetime="2015-04-06T18:08:00.000Z" itemprop="datePublished">2015-04-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/07/跨平台自适应AVG引擎——RainAvgEngine/">跨平台自适应AVG引擎——RainAvgEngine</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>经过不断的折（mo）腾（yu），RainAvgEngine终于完成。同时利用该引擎编写的手机版《逃出青龙山》也完成。撒花~~~<br><img src="http://rainssong.github.io/images/rain_avg_engine.jpg" alt="RainAvgEngine" title="RainAvgEngine"></p>
<p>源码地址：</p>
<p><a href="https://github.com/rainssong/RainAvgEngine" target="_blank" rel="external">https://github.com/rainssong/RainAvgEngine</a></p>

        
          <!-- show an end symbol if the article is fully displayed -->
          <hr/>
          <p class="article-more-link">
            <a>end</a>
          </p>
        
      
    </div>
    
    <div class="article-info">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AS3/">AS3</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AVG/">AVG</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GameDevelop/">GameDevelop</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RainAvgEngine/">RainAvgEngine</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/GameDevelop/">GameDevelop</a>
	</div>


      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-解决FlashDevelop的代码提示快捷键冲突" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/04/02/解决FlashDevelop的代码提示快捷键冲突/" class="article-date">
  	<time datetime="2015-04-01T16:00:00.000Z" itemprop="datePublished">2015-04-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/02/解决FlashDevelop的代码提示快捷键冲突/">解决FlashDevelop的代码提示快捷键冲突</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>FlashDevelop代码提示快捷键为Ctrl+Space。和中文系统的语言切换快捷键冲突。</p>
<p>解决方案：</p>
<p>1.D:\Program Files (x86)\FlashDevelop\Settings\MainMenu.xml复制到</p>
<p>C:\Users\Rain\AppData\Local\FlashDevelop\Settings</p>
<p>2.打开MainMenu.xml</p>
<p>3.在你喜欢的地方加上：</p>
<pre><code>&lt;button <span class="variable">label=</span><span class="string">"Control Space"</span> <span class="variable">click=</span><span class="string">"PluginCommand"</span> <span class="variable">tag=</span><span class="string">"ASCompletion.CtrlSpace"</span> <span class="variable">shortcut=</span><span class="string">"Alt|C"</span> <span class="variable">flags=</span><span class="string">"Enable:IsEditable"</span> /&gt;

&lt;button <span class="variable">label=</span><span class="string">"Control Shift Space"</span> <span class="variable">click=</span><span class="string">"PluginCommand"</span> <span class="variable">tag=</span><span class="string">"ASCompletion.CtrlShiftSpace"</span> <span class="variable">shortcut=</span><span class="string">"Alt|Shift|C"</span> <span class="variable">flags=</span><span class="string">"Enable:IsEditable"</span> /&gt;

&lt;button <span class="variable">label=</span><span class="string">"Control Alt Space"</span> <span class="variable">click=</span><span class="string">"PluginCommand"</span> <span class="variable">tag=</span><span class="string">"ASCompletion.CtrlAltSpace"</span> <span class="variable">shortcut=</span><span class="string">"Control|Alt|C"</span> <span class="variable">flags=</span><span class="string">"Enable:IsEditable"</span> /&gt;
</code></pre>
        
          <!-- show an end symbol if the article is fully displayed -->
          <hr/>
          <p class="article-more-link">
            <a>end</a>
          </p>
        
      
    </div>
    
    <div class="article-info">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AS3/">AS3</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/FlashDevelop/">FlashDevelop</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/AS3/">AS3</a>
	</div>


      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-是时候总结一下Vector和Array了" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/01/12/是时候总结一下Vector和Array了/" class="article-date">
  	<time datetime="2015-01-12T09:32:00.000Z" itemprop="datePublished">2015-01-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/12/是时候总结一下Vector和Array了/">是时候总结一下Vector和Array了</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>作者：雨声敲敲<br>blog：blog.sina.com.cn/rainssong<br>homepage：rainsgameworld.sinaapp.com/<br>weibo：weibo.com/rainssong<br>转载请注明</p>
<pre><code>搜了一些相关帖子，发现有的讲解不全，有的误导观众，故而总结与此。以供新手学习。

<span class="number">1.</span>初始化和类型检查
<span class="built_in">Array</span>没有类型检查，但不代表<span class="built_in">Array</span>不支持类型定义，Look：
<span class="keyword">var</span> arr:<span class="built_in">Array</span>.&lt;<span class="built_in">Number</span>&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>,<span class="string">"a"</span>];
<span class="comment">//这样写的好处是——有代码提示！坏处是——依旧不规范，因为编译器不会提示你"a"元素的错误。还是要自己多加注意。</span>

Vector有类型检查，但是也可以没有！Look：
<span class="keyword">var</span> vec:Vector.&lt;<span class="built_in">Number</span>&gt; = <span class="keyword">new</span> &lt;<span class="built_in">Number</span>&gt;[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="string">"a"</span>];<span class="comment">//报错！</span>
<span class="keyword">var</span> vec:Vector.&lt;*&gt; = <span class="keyword">new</span> &lt;*&gt;[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="string">"a"</span>];<span class="comment">//不报错但不建议</span>

<span class="number">2.</span>效率
没有绝对高下之分，总的来说，<span class="built_in">Array</span>处理复杂类型时更快（如<span class="built_in">Object</span>），Vector处理基础类型（如<span class="built_in">Number</span> <span class="built_in">String</span>）更快。具体资料可自行搜索。

<span class="number">3.</span>功能
<span class="built_in">Array</span>有sortOn方法，可以排序复杂对象。
Vector可以固定长度，防止出错。

<span class="number">4.</span>转换
<span class="built_in">Array</span>转为Vector十分简单：
<span class="keyword">var</span> vec:Vector.&lt;<span class="built_in">Number</span>&gt; = Vector.&lt;<span class="built_in">Number</span>&gt;(arr);

Vector转<span class="built_in">Array</span>却很麻烦，需要自行遍历，但事实上你基本没有必要将Vector转换为<span class="built_in">Array</span>，大部分时候只需要这么做就好了：
<span class="keyword">var</span> arr:<span class="built_in">Array</span>.&lt;<span class="built_in">Number</span>&gt; = vec;
</code></pre>
        
          <!-- show an end symbol if the article is fully displayed -->
          <hr/>
          <p class="article-more-link">
            <a>end</a>
          </p>
        
      
    </div>
    
    <div class="article-info">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AS3/">AS3</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Array/">Array</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/AS3/">AS3</a>
	</div>


      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 rainssong
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/mobile.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>





<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  </div>
</body>
</html>